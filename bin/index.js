#!/usr/bin/env bun
// @bun

// src/bin/index.ts
import { log, run } from "../dist/index.js";
var main = async () => {
  if (process.argv.length < 3) {
    log.error("No handler specified");
    throw new Error("[TEST] No handler specified");
  }
  const appRoot = process.cwd();
  const handler = process.argv[2];
  process.env._HANDLER = handler;
  process.env.LAMBDA_TASK_ROOT = process.env.LAMBDA_TASK_ROOT || appRoot;
  log.info("Starting AWS Lambda Bun RIC", {
    handler,
    appRoot,
    aws_lambda_runtime_api: process.env.AWS_LAMBDA_RUNTIME_API,
    lambda_task_root: process.env.LAMBDA_TASK_ROOT
  });
  await run(appRoot, handler);
};
if (import.meta.main) {
  main().catch((error) => {
    console.error("Fatal error in bin script:", error);
    process.exit(1);
  });
}
export {
  main
};

//# debugId=D901C6FF5E3A273364756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL2Jpbi9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIjIS91c3IvYmluL2VudiBidW5cblxuLyoqIENvcHlyaWdodCAyMDIzIEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuICovXG5cbi8vIGludmVzdGlnYXRlIGlmIGNhbiBnZXQgdGhlIGZpbGUgZXhlY3V0YWJsZSB3aXRoIC0tYnl0ZWNvZGVcbi8vIGNvbnN0IHBrZyA9IHJlcXVpcmUoJ3NyYy9wa2cnKTtcbi8vIGNvbnN0IHsgbG9nLCBydW4gfSA9IHBrZztcblxuaW1wb3J0IHsgbG9nLCBydW4gfSBmcm9tICcuLi9wa2cvaW5kZXgudHMnO1xuXG4vLyBUaGlzIHNjcmlwdCBpcyB0aGUgZW50cnlwb2ludCBmb3IgYGJ1bnggYXdzLWxhbWJkYS1yaWNgLlxuLy8gQ29udmVydGVkIHRvIENvbW1vbkpTIHN5bnRheCB0byB3b3JrIHdpdGggYnl0ZWNvZGUgY29tcGlsYXRpb24uXG5cbmNvbnN0IG1haW4gPSBhc3luYyAoKSA9PiB7XG5cdGlmIChwcm9jZXNzLmFyZ3YubGVuZ3RoIDwgMykge1xuXHRcdGxvZy5lcnJvcignTm8gaGFuZGxlciBzcGVjaWZpZWQnKTtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1tURVNUXSBObyBoYW5kbGVyIHNwZWNpZmllZCcpO1xuXHR9XG5cblx0Y29uc3QgYXBwUm9vdCA9IHByb2Nlc3MuY3dkKCk7XG5cdGNvbnN0IGhhbmRsZXIgPSBwcm9jZXNzLmFyZ3ZbMl07XG5cblx0Ly8gU2V0IGVudmlyb25tZW50IHZhcmlhYmxlcyB0aGF0IHRoZSBSSUMgZXhwZWN0c1xuXHRwcm9jZXNzLmVudi5fSEFORExFUiA9IGhhbmRsZXI7XG5cdHByb2Nlc3MuZW52LkxBTUJEQV9UQVNLX1JPT1QgPSBwcm9jZXNzLmVudi5MQU1CREFfVEFTS19ST09UIHx8IGFwcFJvb3Q7XG5cblx0bG9nLmluZm8oJ1N0YXJ0aW5nIEFXUyBMYW1iZGEgQnVuIFJJQycsIHtcblx0XHRoYW5kbGVyLFxuXHRcdGFwcFJvb3QsXG5cdFx0YXdzX2xhbWJkYV9ydW50aW1lX2FwaTogcHJvY2Vzcy5lbnYuQVdTX0xBTUJEQV9SVU5USU1FX0FQSSxcblx0XHRsYW1iZGFfdGFza19yb290OiBwcm9jZXNzLmVudi5MQU1CREFfVEFTS19ST09ULFxuXHR9KTtcblxuXHQvLyBDYWxsIHJ1biBkaXJlY3RseSB3aXRoIHRoZSBoYW5kbGVyIHBhcmFtZXRlclxuXHRhd2FpdCBydW4oYXBwUm9vdCwgaGFuZGxlcik7XG59O1xuXG4vLyBFeHBvcnQgZm9yIGxpYnJhcnkgdXNhZ2VcbmV4cG9ydCB7IG1haW4gfTtcblxuLy8gRXhlY3V0ZSBtYWluIGZ1bmN0aW9uIG9ubHkgd2hlbiBydW4gZGlyZWN0bHlcbmlmIChpbXBvcnQubWV0YS5tYWluKSB7XG5cdG1haW4oKS5jYXRjaCgoZXJyb3IpID0+IHtcblx0XHRjb25zb2xlLmVycm9yKCdGYXRhbCBlcnJvciBpbiBiaW4gc2NyaXB0OicsIGVycm9yKTtcblx0XHRwcm9jZXNzLmV4aXQoMSk7XG5cdH0pO1xufVxuIgogIF0sCiAgIm1hcHBpbmdzIjogIjs7OztBQVFBO0FBS0EsSUFBTSxPQUFPLFlBQVk7QUFBQSxFQUN4QixJQUFJLFFBQVEsS0FBSyxTQUFTLEdBQUc7QUFBQSxJQUM1QixJQUFJLE1BQU0sc0JBQXNCO0FBQUEsSUFDaEMsTUFBTSxJQUFJLE1BQU0sNkJBQTZCO0FBQUEsRUFDOUM7QUFBQSxFQUVBLE1BQU0sVUFBVSxRQUFRLElBQUk7QUFBQSxFQUM1QixNQUFNLFVBQVUsUUFBUSxLQUFLO0FBQUEsRUFHN0IsUUFBUSxJQUFJLFdBQVc7QUFBQSxFQUN2QixRQUFRLElBQUksbUJBQW1CLFFBQVEsSUFBSSxvQkFBb0I7QUFBQSxFQUUvRCxJQUFJLEtBQUssK0JBQStCO0FBQUEsSUFDdkM7QUFBQSxJQUNBO0FBQUEsSUFDQSx3QkFBd0IsUUFBUSxJQUFJO0FBQUEsSUFDcEMsa0JBQWtCLFFBQVEsSUFBSTtBQUFBLEVBQy9CLENBQUM7QUFBQSxFQUdELE1BQU0sSUFBSSxTQUFTLE9BQU87QUFBQTtBQU8zQixJQUFJLGtCQUFrQjtBQUFBLEVBQ3JCLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVTtBQUFBLElBQ3ZCLFFBQVEsTUFBTSw4QkFBOEIsS0FBSztBQUFBLElBQ2pELFFBQVEsS0FBSyxDQUFDO0FBQUEsR0FDZDtBQUNGOyIsCiAgImRlYnVnSWQiOiAiRDkwMUM2RkY1RTNBMjczMzY0NzU2RTIxNjQ3NTZFMjEiLAogICJuYW1lcyI6IFtdCn0=
